!function(){var n,a,i="undefined"!=typeof exports?exports:this.Gh3={};if(i.VERSION="1.0.0",(n=function(){}).inherits=function(e,t,n){function s(){}function r(e,t){for(var n in t)e[n]=t[n]}var o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)};return r(o,e),s.prototype=e.prototype,o.prototype=new s,t&&r(o.prototype,t),n&&r(o,n),(o.prototype.constructor=o).__super__=e.prototype,o},n.extend=function(e,t){t=n.inherits(this,e,t);return t.extend=this.extend,t},i.Base64=a={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(e){var t,n,s,r,o,i,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)s=this._keyStr.indexOf(e.charAt(u++)),t=(15&(r=this._keyStr.indexOf(e.charAt(u++))))<<4|(o=this._keyStr.indexOf(e.charAt(u++)))>>2,n=(3&o)<<6|(i=this._keyStr.indexOf(e.charAt(u++))),c+=String.fromCharCode(s<<2|r>>4),64!=o&&(c+=String.fromCharCode(t)),64!=i&&(c+=String.fromCharCode(n));return c=a._utf8_decode(c)},encode:function(e){var t,n,s,r,o,i,c="",u=0;for(e=a._utf8_encode(e);u<e.length;)s=(i=e.charCodeAt(u++))>>2,r=(3&i)<<4|(t=e.charCodeAt(u++))>>4,o=(15&t)<<2|(n=e.charCodeAt(u++))>>6,i=63&n,isNaN(t)?o=i=64:isNaN(n)&&(i=64),c=c+this._keyStr.charAt(s)+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(i);return c},_utf8_decode:function(e){var t,n="",s=0;for(c1=c2=0;s<e.length;)(t=e.charCodeAt(s))<128?(n+=String.fromCharCode(t),s++):191<t&&t<224?(c2=e.charCodeAt(s+1),n+=String.fromCharCode((31&t)<<6|63&c2),s+=2):(c2=e.charCodeAt(s+1),c3=e.charCodeAt(s+2),n+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),s+=3);return n},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?t+=String.fromCharCode(s):(127<s&&s<2048?t+=String.fromCharCode(s>>6|192):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128)),t+=String.fromCharCode(63&s|128))}return t}},null!=window.XDomainRequest)try{new XDomainRequest,$.support.cors=!0,$.ajaxSetup.xhr=function(){return new XDomainRequest}}catch(e){}i.Helper=n.extend({},{protocol:"https",domain:"api.github.com",callHttpApi:function(e){var s;e.url=i.Helper.protocol+"://"+i.Helper.domain+"/"+e.service,$.support.cors?(s=e.success,$.isFunction(s)&&(e.success=function(e,t,n){s.call(this,{data:e},t,n)})):e.dataType="jsonp",$.ajax(e)}}),i.Users=n.extend({},{users:[],search:function(e,t,n){i.Users.users=[],i.Helper.callHttpApi({service:"legacy/user/search/"+e,data:t,success:function(e){_.each(e.data.users,function(e){i.Users.users.push(new i.User(e.login,e))}),n&&n(null,i.Users)},error:function(e){n&&n(new Error(e.responseJSON.message),e)}})},reverse:function(){i.Users.users.reverse()},sort:function(e){e?i.Users.users.sort(e):i.Users.users.sort()},getAll:function(){return i.Users.users},getByName:function(t){return _.find(i.Users.users,function(e){return e.name==t})},each:function(t){_.each(i.Users.users,function(e){t(e)})},filter:function(e){return _.filter(i.Users.users,e)}}),i.User=n.extend({constructor:function(e,t){if(t)for(var n in t)this[n]=t[n];if(!e)throw"login !";this.login=e},fetch:function(n){var s=this;i.Helper.callHttpApi({service:"users/"+s.login,success:function(e){for(var t in e.data)s[t]=e.data[t];n&&n(null,s)},error:function(e){n&&n(new Error(e.responseJSON.message),e)}})}},{}),i.GistComment=n.extend({constructor:function(e){for(var t in e)this[t]=e[t]}},{}),i.Gist=n.extend({constructor:function(e){for(var t in e)this[t]=e[t]},fetchContents:function(s){var r=this;r.files=[],i.Helper.callHttpApi({service:"gists/"+r.id,success:function(e){for(var t in e.data.files)r.files.push(e.data.files[t]);for(var n in delete e.data.files,e.data)r[n]=e.data[n];s&&s(null,r)},error:function(e){s&&s(new Error(e.responseJSON.message),e)}})},fetchComments:function(t){var n=this;n.comments=[],i.Helper.callHttpApi({service:"gists/"+n.id+"/comments",success:function(e){_.each(e.data,function(e){n.comments.push(new i.GistComment(e))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},getFileByName:function(t){return _.find(this.files,function(e){return e.filename==t})},getFiles:function(){return this.files},eachFile:function(t){_.each(this.files,function(e){t(e)})},getComments:function(){return this.comments},eachComment:function(t){_.each(this.comments,function(e){t(e)})},filterComments:function(e){return _.filter(this.comments,e)}},{}),i.Gists=n.extend({constructor:function(e){e&&(this.user=e),this.gists=[]},fetch:function(e,t,n){var s=this;i.Helper.callHttpApi({service:"users/"+s.user.login+"/gists",data:e,success:function(e){_.each(e.data,function(e){s.gists.push(new i.Gist(e))}),n&&n(null,s)},error:function(e){n&&n(new Error(e.responseJSON.message),e)}})},getGists:function(){return this.gists},eachGist:function(t){_.each(this.gists,function(e){t(e)})},filter:function(e){return _.filter(this.gists,e)}},{}),i.CommitComment=n.extend({constructor:function(e){for(var t in e)this[t]=e[t]}},{}),i.Commit=n.extend({constructor:function(e,t,n){this.author=e.commit.author,this.date=e.commit.author.date,this.message=e.commit.message,this.sha=e.sha,this.url=e.url,t&&(this.user=t),n&&(this.repositoryName=n)},fetchComments:function(t){var n=this;n.comments=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.repositoryName+"/commits/"+n.sha+"/comments",success:function(e){_.each(e.data,function(e){n.comments.push(new i.CommitComment(e))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)},beforeSend:function(e){e.setRequestHeader("Accept","application/vnd.github.v3.full+json")}})},getComments:function(){return this.comments},eachComment:function(t){_.each(this.comments,function(e){t(e)})}},{}),i.ItemContent=n.extend({constructor:function(e,t,n,s){for(var r in e)this[r]=e[r];t&&(this.user=t),n&&(this.repositoryName=n),s&&(this.branchName=s)}},{}),i.File=i.ItemContent.extend({constructor:function(e,t,n,s){i.File.__super__.constructor.call(this,e,t,n,s)},fetchContent:function(t){var n=this;i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.repositoryName+"/contents/"+n.path,success:function(e){n.content=e.data.content,n.rawContent=a.decode(e.data.content),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},fetchCommits:function(t){var n=this;n.commits=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.repositoryName+"/commits",data:{path:n.path,sha:n.branchName},success:function(e){_.each(e.data,function(e){n.commits.push(new i.Commit(e,n.user,n.repositoryName))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},getRawContent:function(){return this.rawContent},getCommits:function(){return this.commits},getLastCommit:function(){return this.commits[0]},getFirstCommit:function(){return this.commits[this.commits.length-1]},eachCommit:function(t){_.each(this.commits,function(e){t(e)})},filterCommits:function(e){return _.filter(this.commits,e)},reverseCommits:function(){this.commits.reverse()},sortCommits:function(e){e?this.commits.sort(e):this.commits.sort()}},{}),i.Dir=i.ItemContent.extend({constructor:function(e,t,n,s){i.Dir.__super__.constructor.call(this,e,t,n,s)},fetchContents:function(t){var n=this;n.contents=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.repositoryName+"/contents/"+n.path,data:{ref:n.branchName},success:function(e){_.each(e.data,function(e){"file"==e.type&&n.contents.push(new i.File(e,n.user,n.repositoryName,n.branchName)),"dir"==e.type&&n.contents.push(new i.Dir(e,n.user,n.repositoryName,n.branchName))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},reverseContents:function(){this.contents.reverse()},sortContents:function(e){e?this.contents.sort(e):this.contents.sort()},getContents:function(){return this.contents},getFileByName:function(t){return _.find(this.contents,function(e){return e.name==t&&"file"==e.type})},getDirByName:function(t){return _.find(this.contents,function(e){return e.name==t&&"dir"==e.type})},eachContent:function(t){_.each(this.contents,function(e){t(e)})},filterContents:function(e){return _.filter(this.contents,e)}},{}),i.Branch=n.extend({constructor:function(e,t,n,s,r){e&&(this.name=e),t&&(this.sha=t),n&&(this.url=n),s&&(this.user=s),r&&(this.repositoryName=r)},fetchContents:function(t){var n=this;n.contents=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.repositoryName+"/contents/",data:{ref:n.name},success:function(e){_.each(e.data,function(e){"file"==e.type&&n.contents.push(new i.File(e,n.user,n.repositoryName,n.name)),"dir"==e.type&&n.contents.push(new i.Dir(e,n.user,n.repositoryName,n.name))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},reverseContents:function(){this.contents.reverse()},sortContents:function(e){e?this.contents.sort(e):this.contents.sort()},getContents:function(){return this.contents},getFileByName:function(t){return _.find(this.contents,function(e){return e.name==t&&"file"==e.type})},getDirByName:function(t){return _.find(this.contents,function(e){return e.name==t&&"dir"==e.type})},eachContent:function(t){_.each(this.contents,function(e){t(e)})},filterContents:function(e){return _.filter(this.contents,e)}},{}),i.Issue=n.extend({constructor:function(e,t,n,s){if(e&&(this.number=e),t&&(this.user=t),n&&(this.repositoryName=n),s)for(var r in s)this[r]=s[r]},fetchContents:function(t){var s=this;i.Helper.callHttpApi({service:"repos/"+s.user.login+"/"+s.repositoryName+"/issues/"+s.id,success:function(n){_.each(n.data,function(e){for(var t in n.data)s[t]=n.data[t]}),t&&t(null,s)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},fetchComments:function(t){var n=this;i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.repositoryName+"/issues/"+n.number+"/comments",success:function(e){n.comments=e.data,t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},fetchEvents:function(t){var n=this;i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.repositoryName+"/issues/"+n.number+"/events",success:function(e){n.events=e.data,t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})}},{}),i.Pull=n.extend({constructor:function(e,t,n,s){if(e&&(this.number=e),t&&(this.user=t),n&&(this.repositoryName=n),s)for(var r in s)this[r]=s[r]},fetchContents:function(t){var s=this;i.Helper.callHttpApi({service:"repos/"+s.user.login+"/"+s.repositoryName+"/pulls/"+s.id,success:function(n){_.each(n.data,function(e){for(var t in n.data)s[t]=n.data[t]}),t&&t(null,s)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})}},{}),i.Repository=n.extend({constructor:function(e,t,n){if(n)for(var s in n)this[s]=n[s];e&&(this.name=e),t&&(this.user=t)},fetch:function(n){var s=this;i.Helper.callHttpApi({service:"repos/"+s.user.login+"/"+s.name,success:function(e){for(var t in e.data)s[t]=e.data[t];n&&n(null,s)},error:function(e){n&&n(new Error(e.responseJSON.message),e)}})},fetchBranches:function(t){var n=this;n.branches=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.name+"/branches",success:function(e){_.each(e.data,function(e){n.branches.push(new i.Branch(e.name,e.commit.sha,e.commit.url,n.user,n.name))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},fetchIssues:function(t){var n=this;n.issues=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.name+"/issues",data:{sort:"updated"},success:function(e){_.each(e.data,function(e){n.issues.push(new i.Issue(e.number,e.user,n.name,e))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},fetchClosedIssues:function(t){var n=this;n.issues=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.name+"/issues",data:{state:"closed",sort:"updated"},success:function(e){_.each(e.data,function(e){n.issues.push(new i.Issue(e.number,e.user,n.name,e))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},fetchPulls:function(t){var n=this;n.pulls=[],i.Helper.callHttpApi({service:"repos/"+n.user.login+"/"+n.name+"/pulls",data:{sort:"updated"},success:function(e){_.each(e.data,function(e){n.pulls.push(new i.Pull(e.number,e.user,n.name,e))}),t&&t(null,n)},error:function(e){t&&t(new Error(e.responseJSON.message),e)}})},getBranches:function(){return this.branches},getBranchByName:function(t){return _.find(this.branches,function(e){return e.name==t})},eachBranch:function(t){_.each(this.branches,function(e){t(e)})},reverseBranches:function(){this.branches.reverse()},sortBranches:function(e){e?this.branches.sort(e):this.branches.sort()},getIssues:function(){return this.issues},eachIssue:function(t){_.each(this.issues,function(e){t(e)})},reverseIssues:function(){this.issues.reverse()},getPulls:function(){return this.pulls},eachPull:function(t){_.each(this.pulls,function(e){t(e)})},reversePulls:function(){this.pulls.reverse()}},{}),i.Repositories=n.extend({constructor:function(e){e&&(this.user=e)},fetch:function(e,t,n){var s=this;s.repositories=[],i.Helper.callHttpApi({service:"users/"+s.user.login+"/repos",data:e,success:function(e){_.each(e.data,function(e){s.repositories.push(new i.Repository(e.name,s.user))}),n&&n(null,s)},error:function(e){n&&n(new Error(e.responseJSON.message),e)}})},reverseRepositories:function(){this.repositories.reverse()},sortRepositories:function(e){e?this.repositories.sort(e):this.repositories.sort()},getRepositories:function(){return this.repositories},getRepositoryByName:function(t){return _.find(this.repositories,function(e){return e.name==t})},eachRepository:function(t){_.each(this.repositories,function(e){t(e)})},filterRepositories:function(e){return _.filter(this.repositories,e)}},{repositories:[],search:function(e,t,n){i.Repositories.repositories=[],i.Helper.callHttpApi({service:"legacy/repos/search/"+e,data:t,success:function(e){_.each(e.data.repositories,function(e){i.Repositories.repositories.push(new i.Repository(e.name,new i.User(e.owner),e))}),n&&n(null,i.Repositories)},error:function(e){n&&n(new Error(e.responseJSON.message),e)}})},reverse:function(){i.Repositories.repositories.reverse()},sort:function(e){e?i.Repositories.repositories.sort(e):i.Repositories.repositories.sort()},getAll:function(){return i.Repositories.repositories},getByName:function(t){return _.find(i.Repositories.repositories,function(e){return e.name==t})},each:function(t){_.each(i.Repositories.repositories,function(e){t(e)})},filter:function(e){return _.filter(i.Repositories.repositories,e)}}),i.Search=n.extend({},{repos:function(e,t,n){i.Search._template(e,t,n,"search/repositories",function(e){return new i.Repository(e.name,new i.User(e.owner),e)})},code:function(e,t,n){i.Search._template(e,t,n,"search/code")},issues:function(e,t,n){var s=/.*\/(.*)\/issues\/.*/;i.Search._template(e,t,n,"search/issues",function(e){var t=s.exec(e.html_url);return t&&t[1]?new i.Issue(e.number,e.user,t[1],e):null})},users:function(e,t,n){i.Search._template(e,t,n,"search/users",function(e){return new i.User(e.login,e)})},_template:function(e,t,r,n,o){t=$.extend({},e,t);i.Helper.callHttpApi({service:n+"?"+decodeURIComponent($.param(t)),success:function(e,t,n){var s=[];o?_.each(e.data.items,function(e){e=o(e);e&&s.push(e)}):s=e.data.items,r&&r(null,s)},error:function(e){r&&r(new Error(e.responseJSON.message),e)}})}})}.call(this);